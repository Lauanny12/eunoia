<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Eunoia - Portf√≥lio de Poesias</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600&family=Poppins&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="css/contato.css" />
  <link rel="stylesheet" href="css/geral.css" />
  <style>
    .erro {
      color: #d10000;
      font-size: 0.9em;
      margin: 4px 0 8px 0;
      display: block;
    }
  </style>
</head>
<body>

  <nav class="menu">
    <a href="index.html#inicio">In√≠cio</a>
    <a href="poemas.html">Poemas</a>
    <a href="sobre.html">Sobre</a>
    <a href="contato.html">Contato</a>
  </nav>

  <!-- Formul√°rio de Contato -->
  <section class="contato-formulario">
    <h2>Entre em contato</h2>
    <p>Preencha os campos abaixo para nos enviar uma mensagem.</p>
    <form id="formContato">
      <input type="text" name="nome" id="nome" placeholder="Nome" required>
      <span class="erro" id="erroNome"></span>

      <input type="email" name="email" id="email" placeholder="Email" required>
      <span class="erro" id="erroEmail"></span>

      <input type="tel" name="telefone" id="telefone" placeholder="Telefone" required>
      <span class="erro" id="erroTelefone"></span>

      <textarea name="mensagem" id="mensagem" placeholder="Mensagem" rows="5" required></textarea>
      <span class="erro" id="erroMensagem"></span>

      <button type="submit">Enviar</button>
    </form>
  </section>

  <script>
    document.getElementById('formContato').addEventListener('submit', async function (e) {
      e.preventDefault();

      // Campos
      const nome = document.getElementById('nome');
      const email = document.getElementById('email');
      const telefone = document.getElementById('telefone');
      const mensagem = document.getElementById('mensagem');

      // Spans de erro
      const erroNome = document.getElementById('erroNome');
      const erroEmail = document.getElementById('erroEmail');
      const erroTelefone = document.getElementById('erroTelefone');
      const erroMensagem = document.getElementById('erroMensagem');

      // Resetar mensagens
      erroNome.textContent = '';
      erroEmail.textContent = '';
      erroTelefone.textContent = '';
      erroMensagem.textContent = '';

      let valido = true;

      // Valida√ß√µes
      if (nome.value.trim() === '') {
        erroNome.textContent = 'Por favor, insira seu nome.';
        valido = false;
      }

      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailRegex.test(email.value)) {
        erroEmail.textContent = 'Email inv√°lido.';
        valido = false;
      }

      const telRegex = /^\(?\d{2}\)?[\s-]?\d{4,5}-?\d{4}$/;
      if (!telRegex.test(telefone.value)) {
        erroTelefone.textContent = 'Telefone inv√°lido. Use o formato (99) 99999-9999.';
        valido = false;
      }

      if (mensagem.value.trim().length < 5) {
        erroMensagem.textContent = 'Mensagem muito curta.';
        valido = false;
      }

      if (!valido) return;

      // Se tudo estiver v√°lido, envia com FormSubmit
      const formData = new FormData(this);
      try {
        await fetch("https://formsubmit.co/lauanny.silva2@estudante.ifto.edu.br", {
          method: "POST",
          body: formData
        });
        window.location.href = "obg.html"; // P√°gina de agradecimento
      } catch (error) {
        alert("Erro ao enviar. Tente novamente mais tarde.");
      }
    });
  </script>

  <footer class="rodape-video">
    <video autoplay muted loop playsinline>
      <source src="videos/video1.mp4" type="video/mp4" />
      Seu navegador n√£o suporta v√≠deo HTML5.
    </video>
    <div class="conteudo-rodape">
      <p>Feito com üíô por <span class="autora">Lauanny Silva</span></p>
      <p class="assinatura">Eunoia ‚Ä¢ 2025</p>
    </div>
  </footer>
</body>
</html>
