<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Contato - Eunoia</title>
  <link rel="stylesheet" href="css/contato.css" />
  <link rel="stylesheet" href="css/geral.css" />
  <style>
  
    
    <nav class="menu">
    <a href="index.html#inicio">In√≠cio</a>
    <a href="poemas.html">Poemas</a>
    <a href="sobre.html">Sobre</a>
      <a href="Playlist.html">Playlist</a>
    <a href="contato.html">Contato</a>
  </nav>

    
    .erro {
      color: #d10000;
      font-size: 0.9em;
      margin: 4px 0 8px 0;
      display: block;
    }
    label {
      display: block;
      margin-top: 10px;
      font-weight: bold;
    }
    input, textarea, select {
      width: 100%;
      padding: 8px;
      margin-top: 4px;
    }
  </style>
</head>
<body>

  <nav class="menu">
    <a href="index.html#inicio">In√≠cio</a>
    <a href="poemas.html">Poemas</a>
    <a href="sobre.html">Sobre</a>
    <a href="contato.html">Contato</a>
  </nav>

  <section class="contato-formulario">
    <h2>Entre em contato</h2>
    <p>Envie sua mensagem ou poesia! üòä</p>
    <form id="formContato">
      <label for="nome">Nome completo (Ex: Fulano De Tal)</label>
      <input type="text" id="nome" name="nome" placeholder="Ex: Lauanny Reis Silva" required>
      <span class="erro" id="erroNome"></span>

      <label for="email">Email</label>
      <input type="email" id="email" name="email" placeholder="Ex: fulano@email.com" required>
      <span class="erro" id="erroEmail"></span>

      <label for="telefone">Telefone (opcional)</label>
      <input type="tel" id="telefone" name="telefone" placeholder="Ex: (63) 91234-5678">
      <span class="erro" id="erroTelefone"></span>

      <label for="mensagem">Mensagem / Poesia</label>
      <textarea id="mensagem" name="mensagem" rows="5" placeholder="Escreva sua mensagem..." required></textarea>
      <span class="erro" id="erroMensagem"></span>

      <label for="anonimo">Voc√™ quer que seu nome apare√ßa no poema?</label>
      <select id="anonimo" name="anonimo" required>
        <option value="">Escolha uma op√ß√£o</option>
        <option value="Sim">Sim, pode colocar meu nome.</option>
        <option value="An√¥nimo">Prefiro ser an√¥nimo(a).</option>
      </select>
      <span class="erro" id="erroAnonimo"></span>

      <button type="submit">Enviar</button>
    </form>
  </section>

  <script>
    document.getElementById("formContato").addEventListener("submit", async function (e) {
      e.preventDefault();

      // Campos
      const nome = document.getElementById("nome");
      const email = document.getElementById("email");
      const telefone = document.getElementById("telefone");
      const mensagem = document.getElementById("mensagem");
      const anonimo = document.getElementById("anonimo");

      // Erros
      const erroNome = document.getElementById("erroNome");
      const erroEmail = document.getElementById("erroEmail");
      const erroTelefone = document.getElementById("erroTelefone");
      const erroMensagem = document.getElementById("erroMensagem");
      const erroAnonimo = document.getElementById("erroAnonimo");

      // Resetar mensagens
      [erroNome, erroEmail, erroTelefone, erroMensagem, erroAnonimo].forEach(el => el.textContent = "");

      let valido = true;

      // Valida√ß√£o do nome (m√≠nimo 2 palavras, cada uma com inicial mai√∫scula)
      const nomeCompletoRegex = /^([A-Z√Å√â√ç√ì√ö√Ç√ä√é√î√õ√É√ï][a-z√°√©√≠√≥√∫√¢√™√Æ√¥√ª√£√µ√ß]+)(\s[A-Z√Å√â√ç√ì√ö√Ç√ä√é√î√õ√É√ï][a-z√°√©√≠√≥√∫√¢√™√Æ√¥√ª√£√µ√ß]+)+$/;
      if (!nomeCompletoRegex.test(nome.value.trim())) {
        erroNome.textContent = "Insira seu nome completo com iniciais mai√∫sculas. Ex: Lauanny Reis Silva";
        valido = false;
      }

      // Valida√ß√£o do email
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (email.value.trim() === "") {
        erroEmail.textContent = "Email √© obrigat√≥rio.";
        valido = false;
      } else if (!emailRegex.test(email.value)) {
        erroEmail.textContent = "Formato de email inv√°lido.";
        valido = false;
      }

      // Valida√ß√£o da mensagem
      if (mensagem.value.trim().length < 5) {
        erroMensagem.textContent = "Mensagem muito curta.";
        valido = false;
      }

      // Valida√ß√£o do select
      if (anonimo.value === "") {
        erroAnonimo.textContent = "Por favor, selecione se deseja ser an√¥nimo(a) ou n√£o.";
        valido = false;
      }

      // Se houver erros, n√£o envia
      if (!valido) return;

      // Envia para o FormSubmit
      const formData = new FormData(this);

      try {
        await fetch("https://formsubmit.co/lauanny.silva2@estudante.ifto.edu.br", {
          method: "POST",
          body: formData
        });
        window.location.href = "obg.html"; // Redireciona para p√°gina de agradecimento
      } catch (error) {
        alert("Erro ao enviar. Tente novamente mais tarde.");
      }
    });
  </script>

  <footer class="rodape-video">
    <video autoplay muted loop playsinline>
      <source src="videos/video1.mp4" type="video/mp4" />
      Seu navegador n√£o suporta v√≠deo HTML5.
    </video>
    <div class="conteudo-rodape">
      <p>Feito com üíô por <span class="autora">Lauanny Silva</span></p>
      <p class="assinatura">Eunoia ‚Ä¢ 2025</p>
    </div>
  </footer>

</body>
</html>
